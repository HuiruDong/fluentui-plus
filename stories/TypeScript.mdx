import { Meta } from "@storybook/addon-docs/blocks";

<Meta title="ä½¿ç”¨æŒ‡å—/TypeScript æ”¯æŒ" />

# TypeScript æ”¯æŒ

Fluent UI Plus ä½¿ç”¨ TypeScript å¼€å‘ï¼Œæä¾›å®Œæ•´çš„ç±»å‹å®šä¹‰æ”¯æŒã€‚

## ğŸ“– ç±»å‹å®šä¹‰

æ‰€æœ‰ç»„ä»¶éƒ½åŒ…å«å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰ï¼Œæ— éœ€é¢å¤–å®‰è£… `@types` åŒ…ã€‚

### ç»„ä»¶ Props ç±»å‹

```tsx
import React from 'react';
import { Button, ButtonProps, Tag, TagProps } from 'fluentui-plus';

// ä½¿ç”¨ç»„ä»¶ Props ç±»å‹
const CustomButton: React.FC<ButtonProps> = (props) => {
  return <Button {...props} />;
};

// æ‰©å±•ç»„ä»¶ Props
interface ExtendedButtonProps extends ButtonProps {
  customProp?: string;
}

const ExtendedButton: React.FC<ExtendedButtonProps> = ({
  customProp,
  ...buttonProps
}) => {
  return (
    <div>
      {customProp && <span>{customProp}</span>}
      <Button {...buttonProps} />
    </div>
  );
};
```

### ç»„ä»¶ Ref ç±»å‹

```tsx
import React, { useRef } from 'react';
import { Button } from 'fluentui-plus';

function App() {
  const buttonRef = useRef<HTMLButtonElement>(null);

  const handleClick = () => {
    if (buttonRef.current) {
      buttonRef.current.focus();
    }
  };

  return (
    <div>
      <Button ref={buttonRef} onClick={handleClick}>
        ç‚¹å‡»æˆ‘
      </Button>
    </div>
  );
}
```

## ğŸ¯ å¸¸ç”¨ç±»å‹

### Button ç»„ä»¶ç±»å‹

```tsx
interface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {
  variant?: 'primary' | 'default' | 'secondary' | 'outline' | 'text' | 'link';
  size?: 'small' | 'medium' | 'large';
  block?: boolean;
  loading?: boolean;
  icon?: React.ReactNode;
  iconPosition?: 'start' | 'end';
  disabled?: boolean;
  children?: React.ReactNode;
}
```

### Tag ç»„ä»¶ç±»å‹

```tsx
interface TagProps {
  closeIcon?: boolean | React.ReactNode;
  color?: string;
  bordered?: boolean;
  className?: string;
  style?: React.CSSProperties;
  onClose?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;
  onClick?: (e: React.MouseEvent<HTMLElement, MouseEvent>) => void;
  children?: React.ReactNode;
}

interface CheckableTagProps {
  checked?: boolean;
  onChange?: (checked: boolean) => void;
  className?: string;
  style?: React.CSSProperties;
  children?: React.ReactNode;
}
```

## ğŸ”§ TypeScript é…ç½®

### tsconfig.json æ¨èé…ç½®

```json
{
  "compilerOptions": {
    "target": "es5",
    "lib": ["dom", "dom.iterable", "es6"],
    "allowJs": true,
    "skipLibCheck": true,
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "strict": true,
    "forceConsistentCasingInFileNames": true,
    "moduleResolution": "node",
    "resolveJsonModule": true,
    "isolatedModules": true,
    "noEmit": true,
    "jsx": "react-jsx"
  },
  "include": [
    "src"
  ]
}
```

## ğŸ¨ ä¸»é¢˜ç±»å‹

```tsx
interface Theme {
  primaryColor?: string;
  borderRadius?: string;
  fontFamily?: string;
  fontSize?: {
    small?: string;
    medium?: string;
    large?: string;
  };
  spacing?: {
    small?: string;
    medium?: string;
    large?: string;
  };
}

// ä½¿ç”¨ä¸»é¢˜ç±»å‹
const customTheme: Theme = {
  primaryColor: '#0078d4',
  borderRadius: '6px',
  fontFamily: '"Segoe UI", sans-serif',
};
```

## ğŸ“š é«˜çº§ç”¨æ³•

### æ³›å‹ç»„ä»¶

```tsx
interface SelectOption<T = any> {
  label: string;
  value: T;
}

interface SelectProps<T = any> {
  options: SelectOption<T>[];
  value?: T;
  onChange?: (value: T) => void;
}

// ä½¿ç”¨æ³›å‹
const stringOptions: SelectOption<string>[] = [
  { label: 'é€‰é¡¹1', value: 'option1' },
  { label: 'é€‰é¡¹2', value: 'option2' },
];

const numberOptions: SelectOption<number>[] = [
  { label: 'é€‰é¡¹1', value: 1 },
  { label: 'é€‰é¡¹2', value: 2 },
];
```

### æ¡ä»¶ç±»å‹

```tsx
type ButtonVariant = 'primary' | 'default' | 'secondary';

interface ConditionalButtonProps {
  variant: ButtonVariant;
  // æ ¹æ® variant æ¡ä»¶æ€§åœ°è¦æ±‚ä¸åŒçš„ props
  customProp: ButtonVariant extends 'primary' ? string : never;
}
```

## ğŸ› ï¸ å¼€å‘å·¥å…·

### VS Code é…ç½®

æ¨èå®‰è£…ä»¥ä¸‹ VS Code æ‰©å±•ï¼š

- TypeScript Importer
- Auto Rename Tag
- Bracket Pair Colorizer
- ES7+ React/Redux/React-Native snippets

### ESLint TypeScript è§„åˆ™

```json
{
  "extends": [
    "@typescript-eslint/recommended",
    "@typescript-eslint/recommended-requiring-type-checking"
  ],
  "rules": {
    "@typescript-eslint/no-unused-vars": "error",
    "@typescript-eslint/explicit-function-return-type": "warn"
  }
}
```
